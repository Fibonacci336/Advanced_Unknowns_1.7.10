package com.fibonacci.advanced_unknowns.main.world.features;import com.fibonacci.advanced_unknowns.reference.AU_Items;import cpw.mods.fml.common.IWorldGenerator;import net.minecraft.block.Block;import net.minecraft.init.Blocks;import net.minecraft.init.Items;import net.minecraft.item.ItemStack;import net.minecraft.tileentity.TileEntityChest;import net.minecraft.world.World;import net.minecraft.world.chunk.IChunkProvider;import net.minecraft.world.gen.structure.MapGenStructure;import net.minecraft.world.gen.structure.StructureStart;import java.util.Random;public class StoneTemple extends MapGenStructure implements IWorldGenerator {	protected Block[] getValidSpawnBlocks() {		return new Block[]{				Blocks.grass,				Blocks.dirt		};	}	public boolean locationIsValidSpawn(World world,int i, int j, int k) {		int distanceToAir = 0;		Block check = world.getBlock(i, j, k);		while (check != Blocks.air) {			if (distanceToAir > 25) {				return false;			}			distanceToAir++;			check = world.getBlock(i, j + distanceToAir, k);		}		j += distanceToAir - 1;		Block block = world.getBlock(i, j, k);		Block blockAbove = world.getBlock(i, j + 1, k);		Block blockBelow = world.getBlock(i, j - 1, k);		for (Block x : getValidSpawnBlocks()) {			if (blockAbove != Blocks.air) {				return false;			}			if (block == x) {				return true;			} else if (block == Blocks.snow && blockBelow == x) {				return true;			}		}		return false;	}	public StoneTemple() {	}	@Override	public String func_143025_a() {		return "StoneTemple";	}	@Override	protected boolean canSpawnStructureAtCoords(int x, int z) {		return true;	}	@Override	protected StructureStart getStructureStart(int p_75049_1_, int p_75049_2_) {		return null;	}	@Override	public void generate(Random random, int chunkX, int chunkZ, World world, IChunkProvider chunkGenerator, IChunkProvider chunkProvider) {	}	public boolean generate(World world,Random rand, int i, int j, int k) {		//check that each corner is one of the valid spawn blocks		if (!locationIsValidSpawn(world,i, j, k) || !locationIsValidSpawn(world,i + 4, j, k) || !locationIsValidSpawn(world,i + 4, j, k + 4) || !locationIsValidSpawn(world,i, j, k + 4)) {			return false;		}				world.setBlock(i, j, k, Blocks.stonebrick, 1, 0);		world.setBlock(i, j, k + 1, Blocks.stonebrick, 1, 0);		world.setBlock(i, j, k + 2, Blocks.stonebrick, 1, 0);		world.setBlock(i, j, k + 3, Blocks.stonebrick, 1, 0);		world.setBlock(i, j, k + 4, Blocks.stonebrick, 1, 0);		world.setBlock(i, j + 1, k, Blocks.stonebrick, 1, 0);		world.setBlock(i, j + 1, k + 1, Blocks.stonebrick, 1, 0);		world.setBlock(i, j + 1, k + 2, Blocks.stonebrick, 1, 0);		world.setBlock(i, j + 1, k + 3, Blocks.stonebrick, 1, 0);		world.setBlock(i, j + 1, k + 4, Blocks.stonebrick, 1, 0);		world.setBlock(i, j + 2, k, Blocks.stonebrick, 2, 0);		world.setBlock(i, j + 2, k + 1, Blocks.stonebrick, 2, 0);		world.setBlock(i, j + 2, k + 2, Blocks.stonebrick, 2, 0);		world.setBlock(i, j + 2, k + 3, Blocks.stonebrick, 2, 0);		world.setBlock(i, j + 2, k + 4, Blocks.stonebrick, 2, 0);		world.setBlock(i, j + 3, k, Blocks.stonebrick, 3, 0);		world.setBlockToAir(i, j + 3, k + 1);		world.setBlockToAir(i, j + 3, k + 2);		world.setBlockToAir(i, j + 3, k + 3);		world.setBlock(i, j + 3, k + 4, Blocks.stonebrick, 3, 0);		world.setBlock(i, j + 4, k, Blocks.stonebrick, 3, 0);		world.setBlockToAir(i, j + 4, k + 1);		world.setBlockToAir(i, j + 4, k + 2);		world.setBlockToAir(i, j + 4, k + 3);		world.setBlock(i, j + 4, k + 4, Blocks.stonebrick, 3, 0);		world.setBlock(i, j + 5, k, Blocks.stonebrick, 3, 0);		world.setBlockToAir(i, j + 5, k + 1);		world.setBlockToAir(i, j + 5, k + 2);		world.setBlockToAir(i, j + 5, k + 3);		world.setBlock(i, j + 5, k + 4, Blocks.stonebrick, 3, 0);		world.setBlockToAir(i, j + 6, k);		world.setBlockToAir(i, j + 6, k + 1);		world.setBlockToAir(i, j + 6, k + 2);		world.setBlockToAir(i, j + 6, k + 3);		world.setBlockToAir(i, j + 6, k + 4);		world.setBlock(i + 1, j, k, Blocks.stonebrick, 1, 0);		world.setBlock(i + 1, j, k + 1, Blocks.stonebrick, 1, 0);		world.setBlock(i + 1, j, k + 2, Blocks.stonebrick, 1, 0);		world.setBlock(i + 1, j, k + 3, Blocks.stonebrick, 1, 0);		world.setBlock(i + 1, j, k + 4, Blocks.stonebrick, 1, 0);		world.setBlock(i + 1, j + 1, k, Blocks.stonebrick, 1, 0);		world.setBlockToAir(i + 1, j + 1, k + 1);		world.setBlock(i + 1, j + 1, k + 2, Blocks.gold_ore, 0, 0);		world.setBlockToAir(i + 1, j + 1, k + 3);		world.setBlock(i + 1, j + 1, k + 4, Blocks.stonebrick, 1, 0);		world.setBlock(i + 1, j + 2, k, Blocks.stonebrick, 2, 0);		world.setBlock(i + 1, j + 2, k + 1, Blocks.stonebrick, 2, 0);		world.setBlock(i + 1, j + 2, k + 2, Blocks.stone_slab, 13, 0);		world.setBlock(i + 1, j + 2, k + 3, Blocks.stonebrick, 2, 0);		world.setBlock(i + 1, j + 2, k + 4, Blocks.stonebrick, 2, 0);		world.setBlockToAir(i + 1, j + 3, k);		world.setBlockToAir(i + 1, j + 3, k+1);		world.setBlockToAir(i+1, j+3, k+2);		world.setBlockToAir(i+1, j+3, k+3);		world.setBlockToAir(i+1, j+3, k+4);		world.setBlockToAir(i + 1, j + 4, k);		world.setBlockToAir(i + 1, j + 4, k + 1);		world.setBlockToAir(i + 1, j + 4, k + 2);		world.setBlockToAir(i + 1, j + 4, k + 3);		world.setBlockToAir(i + 1, j + 4, k + 4);		world.setBlockToAir(i + 1, j + 5, k);		world.setBlockToAir(i + 1, j + 5, k + 1);		world.setBlockToAir(i + 1, j + 5, k + 2);		world.setBlockToAir(i + 1, j + 5, k + 3);		world.setBlockToAir(i + 1, j + 5, k + 4);		world.setBlockToAir(i + 1, j + 6, k);		world.setBlock(i + 1, j + 6, k + 1, Blocks.stonebrick, 3, 0);		world.setBlockToAir(i + 1, j + 6, k + 2);		world.setBlock(i + 1, j + 6, k + 3, Blocks.stonebrick, 3, 0);		world.setBlockToAir(i + 1, j + 6, k + 4);		world.setBlock(i + 2, j, k, Blocks.stonebrick, 1, 0);		world.setBlock(i + 2, j, k + 1, Blocks.stonebrick, 1, 0);		world.setBlock(i + 2, j, k + 2, Blocks.stonebrick, 3, 0);		world.setBlock(i + 2, j, k + 3, Blocks.stonebrick, 1, 0);		world.setBlock(i + 2, j, k + 4, Blocks.stonebrick, 1, 0);		world.setBlock(i + 2, j + 1, k, Blocks.stonebrick, 1, 0);		world.setBlock(i + 2, j + 1, k + 1, Blocks.redstone_ore, 0, 0);		world.setBlock(i + 2, j + 1, k + 2, Blocks.chest, 3, 0);		TileEntityChest chest = new TileEntityChest();		world.setTileEntity(i + 2, j + 1, k + 2, chest);		chest.setInventorySlotContents(22, new ItemStack(AU_Items.warphome, 1));		chest.setInventorySlotContents(25, new ItemStack(Items.snowball, 1));		for(int x = 0; x < 10; x++){			int slot = rand.nextInt(20);			chest.setInventorySlotContents(slot, new ItemStack(AU_Items.blasterbullets, 1));		}		world.setBlock(i + 2, j + 1, k + 3, Blocks.iron_ore, 0, 0);		world.setBlock(i + 2, j + 1, k + 4, Blocks.stonebrick, 1, 0);		world.setBlock(i + 2, j + 2, k, Blocks.stonebrick, 2, 0);		world.setBlock(i + 2, j + 2, k + 1, Blocks.stone_slab, 13, 0);		world.setBlock(i + 2, j + 2, k + 2, Blocks.stonebrick, 3, 0);		world.setBlock(i + 2, j + 2, k + 3, Blocks.stone_slab, 13, 0);		world.setBlock(i + 2, j + 2, k + 4, Blocks.stonebrick, 2, 0);		world.setBlockToAir(i + 2, j + 3, k);		world.setBlockToAir(i + 2, j + 3, k + 1);		world.setBlockToAir(i + 2, j + 3, k + 2);		world.setBlockToAir(i + 2, j + 3, k + 3);		world.setBlockToAir(i + 2, j + 3, k + 4);		world.setBlockToAir(i + 2, j + 4, k);		world.setBlockToAir(i + 2, j + 4, k + 1);		world.setBlockToAir(i + 2, j + 4, k + 2);		world.setBlockToAir(i + 2, j + 4, k + 3);		world.setBlockToAir(i + 2, j + 4, k + 4);		world.setBlockToAir(i + 2, j + 5, k);		world.setBlockToAir(i + 2, j + 5, k + 1);		world.setBlockToAir(i + 2, j + 5, k + 2);		world.setBlockToAir(i + 2, j + 5, k + 3);		world.setBlockToAir(i + 2, j + 5, k + 4);		world.setBlockToAir(i + 2, j + 6, k);		world.setBlockToAir(i + 2, j + 6, k + 1);		world.setBlock(i + 2, j + 6, k + 2, Blocks.stonebrick, 3, 0);		world.setBlockToAir(i + 2, j + 6, k + 3);		world.setBlockToAir(i + 2, j + 6, k + 4);		world.setBlock(i + 3, j, k, Blocks.stonebrick, 1, 0);		world.setBlock(i + 3, j, k + 1, Blocks.stonebrick, 1, 0);		world.setBlock(i + 3, j, k + 2, Blocks.stonebrick, 1, 0);		world.setBlock(i + 3, j, k + 3, Blocks.stonebrick, 1, 0);		world.setBlock(i + 3, j, k + 4, Blocks.stonebrick, 1, 0);		world.setBlock(i + 3, j + 1, k, Blocks.stonebrick, 1, 0);		world.setBlockToAir(i + 3, j + 1, k + 1);		world.setBlock(i + 3, j + 1, k + 2, Blocks.lapis_ore, 0, 0);		world.setBlockToAir(i + 3, j + 1, k + 3);		world.setBlock(i + 3, j + 1, k + 4, Blocks.stonebrick, 1, 0);		world.setBlock(i + 3, j + 2, k, Blocks.stonebrick, 2, 0);		world.setBlock(i + 3, j + 2, k + 1, Blocks.stonebrick, 2, 0);		world.setBlock(i + 3, j + 2, k + 2, Blocks.stone_slab, 13, 0);		world.setBlock(i + 3, j + 2, k + 3, Blocks.stonebrick, 2, 0);		world.setBlock(i + 3, j + 2, k + 4, Blocks.stonebrick, 2, 0);		world.setBlockToAir(i + 3, j + 3, k);		world.setBlockToAir(i + 3, j + 3, k + 1);		world.setBlockToAir(i + 3, j + 3, k + 2);		world.setBlockToAir(i + 3, j + 3, k + 3);		world.setBlockToAir(i + 3, j + 3, k + 4);		world.setBlockToAir(i + 3, j + 4, k);		world.setBlockToAir(i + 3, j + 4, k + 1);		world.setBlockToAir(i + 3, j + 4, k + 2);		world.setBlockToAir(i + 3, j + 4, k + 3);		world.setBlockToAir(i + 3, j + 4, k + 4);		world.setBlockToAir(i + 3, j + 5, k);		world.setBlockToAir(i + 3, j + 5, k + 1);		world.setBlockToAir(i + 3, j + 5, k + 2);		world.setBlockToAir(i + 3, j + 5, k + 3);		world.setBlockToAir(i + 3, j + 5, k + 4);		world.setBlockToAir(i + 3, j + 6, k);		world.setBlock(i + 3, j + 6, k + 1, Blocks.stonebrick, 3, 0);		world.setBlockToAir(i + 3, j + 6, k + 2);		world.setBlock(i + 3, j + 6, k + 3, Blocks.stonebrick, 3, 0);		world.setBlockToAir(i + 3, j + 6, k + 4);		world.setBlock(i + 4, j, k, Blocks.stonebrick, 1, 0);		world.setBlock(i + 4, j, k + 1, Blocks.stonebrick, 1, 0);		world.setBlock(i + 4, j, k + 2, Blocks.stonebrick, 1, 0);		world.setBlock(i + 4, j, k + 3, Blocks.stonebrick, 1, 0);		world.setBlock(i + 4, j, k + 4, Blocks.stonebrick, 1, 0);		world.setBlock(i + 4, j + 1, k, Blocks.stonebrick, 1, 0);		world.setBlock(i + 4, j + 1, k + 1, Blocks.stonebrick, 1, 0);		world.setBlock(i + 4, j + 1, k + 2, Blocks.stonebrick, 1, 0);		world.setBlock(i + 4, j + 1, k + 3, Blocks.stonebrick, 1, 0);		world.setBlock(i + 4, j + 1, k + 4, Blocks.stonebrick, 1, 0);		world.setBlock(i + 4, j + 2, k, Blocks.stonebrick, 2, 0);		world.setBlock(i + 4, j + 2, k + 1, Blocks.stonebrick, 2, 0);		world.setBlock(i + 4, j + 2, k + 2, Blocks.stonebrick, 2, 0);		world.setBlock(i + 4, j + 2, k + 3, Blocks.stonebrick, 2, 0);		world.setBlock(i + 4, j + 2, k + 4, Blocks.stonebrick, 2, 0);		world.setBlock(i + 4, j + 3, k, Blocks.stonebrick, 3, 0);		world.setBlockToAir(i + 4, j + 3, k + 1);		world.setBlockToAir(i + 4, j + 3, k + 2);		world.setBlockToAir(i + 4, j + 3, k + 3);		world.setBlock(i + 4, j + 3, k + 4, Blocks.stonebrick, 3, 0);		world.setBlock(i + 4, j + 4, k, Blocks.stonebrick, 3, 0);		world.setBlockToAir(i + 4, j + 4, k + 1);		world.setBlockToAir(i + 4, j + 4, k + 2);		world.setBlockToAir(i + 4, j + 4, k + 3);		world.setBlock(i + 4, j + 4, k + 4, Blocks.stonebrick, 3, 0);		world.setBlock(i + 4, j + 5, k, Blocks.stonebrick, 3, 0);		world.setBlockToAir(i + 4, j + 5, k + 1);		world.setBlockToAir(i + 4, j + 5, k + 2);		world.setBlockToAir(i + 4, j + 5, k + 3);		world.setBlock(i + 4, j + 5, k + 4, Blocks.stonebrick, 3, 0);		world.setBlockToAir(i + 4, j + 6, k);		world.setBlockToAir(i + 4, j + 6, k + 1);		world.setBlockToAir(i + 4, j + 6, k + 2);		world.setBlockToAir(i + 4, j + 6, k + 3);		world.setBlockToAir(i + 4, j + 6, k + 4);		return true;	}}